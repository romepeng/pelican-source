Title: UNIX基础 -- 用户和基本账户管理
Date: 2015-04-22 17:15
Modified: 2015-04-22 17:33
Category: FreeBSD
Tags: unix, account, freebsd,
Slug: freebsd-account
Authors: 孤逐王
Summary:

[TOC]

## 账户类型

### 系统账户

系统账户运行服务。
系统用户是那些要使用诸如DNS、 邮件， web等服务的用户。 使用帐户的原因就是安全； 如果所有的用户都由超级用户来运行， 那它们就可以不受约束地做任何事情。
典型的系统帐户包括daemon、operator、bind(供 域名服务 使用)、news， 以及www。
nobody是普通的没有特权的系统用户。 然而， 大多数与用户联系很密切的服务是使用nobody的， 记的这点非常重要， 这样可能使用户变的非常有特权。

### 用户账户

用户帐户是让真实的用户访问系统的主要方式， 这些帐户把用户和环境隔离， 能阻止用户损坏系统和其他用户， 在不影响其他用户的情况之下定制自己的环境。
- 用户名（User name）
用户名在login: 提示符的后面键入。 用户名对于一台计算机来讲是唯一的。用户名通常需要8个或更少的小写字母。
- 口令（Password）
每个帐户都有一个口令与它对应。 口令可以是空的， 这样不需要口令就可以访问系统。 这通常不是一个好主意； 每个帐户都应该有口令。
- 用户ID (UID)
UID是系统用来识别用户的数字，推荐使用65535之内的UID，防止有些软件发生兼容性的问题。FreeBSD在内部使用UID来识别用户。任何您指定一个用户名的命令FreeBSD 都会把它转换成UID。 这意味着您可以用不同的用户名使用多个帐户， 但它们的UID是一样的。 FreeBSD 会把这些帐户认定是同一个用户。
- 组ID (GID)
GID是用来识别用户所在的组的数字，组是一种基于用户GID而不是它们的UID的用来控制用户访问资源的机制。 这可以减少一些配置文件的大小。 一个用户也可以属于多个组。推荐使用65535之内的GID。
- 登录类（Login class）
登录类是对组机制的扩展,当把系统分配给不同用户时,它提供了额外的灵活性.
- 口令的定期更改（Password change time）
默认情况下，FreeBSD 并不强制用户去改变他们的口令。您可以以用户为单位强制要求一些或所有的用户定期改变他们的口令。
- 帐户的到期时间（Account expiry time）
默认情况下FreeBSD不会自动完成帐户过期操作。如果您正在创建帐户，您应该知道一个帐户的有效使用期限。例如，在学校里您会为每个学生建立一个帐户，您可以指定它们何时过期。帐户过期后，虽然帐户的目录和文件仍然存在，但帐户已经不能继续使用了。
- 用户的全名（User's full name）
用户名可以唯一地识别FreeBSD的帐户，但它不会反映用户的全名。这些信息可能与帐户是相关的。
- 主目录（Home directory）
主目录是用户登录后启动的第一个目录的完全路径。通常的规则是把所有用户的主目录都放在 /home/username 下，或者 /usr/home/username 下。 用户将把他们的个人文件放在自己的主目录下，他们可以在那里创建任何目录.
- 用户 shell
Shell提供了用户用来操作系统的默认环境。有很多不同的shell，有经验的用户会根据他们的经验来选择自己喜好的shell。

### 超级用户账户

超级用户帐户， 通常叫做 root，超级用户拥有无限制的权限管理系统。在收发邮件， 系统检查或编程这样的日常工作中， 尽量不要使用root权限。 普通的用户帐户不会由于出错而破坏系统， 所以要尽可能的使用普通帐户， 除非您需要额外的特权。

获取超级用户权限：
- root用户登录，不推荐。
- `su`命令成为超级用户。

> 使用su命令的用户，必须属于wheel组；如果运行su时指定了` -`，用户将继承root用户的环境变量。
运行完命令时，使用`exit`命令离开超级用户账户，回到原来的用户权限。

- 安装 `security/sudo`软件包。

## 管理账户

FreeBSD提供很多不同的命令管理用户账户，最常用的命令概括如下：

> adduser 添加用户
rmuser 删除用户
chpass 修改用户数据库信息
passwd 修改用户口令
pw 强大灵活修改用户帐户的工具
